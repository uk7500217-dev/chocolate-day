<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chocolate Day | A Box of Reasons</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --cocoa-dark: #1a0f0a;
            --cocoa-mid: #3d251e;
            --gold: #d4af37;
            --cream: #fff9f0;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Poppins', sans-serif;
            background: var(--cocoa-dark);
            overflow: hidden;
            touch-action: none;
            color: var(--cream);
            opacity: 0;
            /* Start hidden for fade-in */
            animation: initialFade 2s forwards;
        }

        @keyframes initialFade {
            to {
                opacity: 1;
            }
        }

        /* Background Ambient Texture */
        .bg-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, var(--cocoa-mid), var(--cocoa-dark));
            z-index: -1;
        }

        .scene {
            display: flex;
            width: 100%;
            height: 100%;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: clamp(2.5rem, 8vw, 3.5rem);
            color: var(--gold);
            margin: 0;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
            transition: 0.8s ease;
        }

        .subtitle {
            font-size: 0.8rem;
            letter-spacing: 3px;
            opacity: 0.6;
            margin-bottom: 40px;
        }

        /* The Silk-Lined Box */
        .box-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            background: rgba(255, 255, 255, 0.03);
            padding: 30px;
            border-radius: 25px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(15px);
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .choc {
            width: 85px;
            height: 85px;
            cursor: pointer;
            position: relative;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            background: var(--cocoa-mid);
        }

        .choc:hover {
            transform: scale(1.1) translateY(-5px);
        }

        .choc.dark {
            background: #120a07;
            border-radius: 50%;
        }

        .choc.milk {
            background: #5d4037;
            border-radius: 12px;
        }

        .choc.white {
            background: #fdf5e6;
            color: #5d4037;
            border-radius: 15px 5px;
        }

        .choc.eaten {
            opacity: 0;
            transform: scale(0) rotate(90deg);
            pointer-events: none;
        }

        /* Message Display */
        #msg-display {
            margin-top: 40px;
            min-height: 50px;
            font-style: italic;
            font-size: 1.1rem;
            color: var(--gold);
            transition: 0.6s ease;
            max-width: 80%;
        }

        #final-ui {
            display: none;
            opacity: 0;
            transform: scale(0.9);
            transition: 1.5s ease;
        }

        .show-final {
            display: block !important;
            opacity: 1 !important;
            transform: scale(1) !important;
        }

        .btn-gold {
            background: var(--gold);
            color: black;
            padding: 18px 50px;
            border: none;
            border-radius: 100px;
            font-weight: 600;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 30px;
            transition: 0.4s;
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3);
        }

        .btn-gold:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 45px rgba(212, 175, 55, 0.5);
        }
    </style>
</head>

<body>

    <div class="bg-overlay"></div>

    <audio id="bgMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3" type="audio/mpeg">
    </audio>

    <audio id="biteSound">
        <source src="https://assets.mixkit.co/active_storage/sfx/2301/2301-preview.mp3" type="audio/mpeg">
    </audio>

    <div class="scene">
        <div id="header">
            <h1>Sweetness Redefined</h1>
            <p class="subtitle">TAP A CHOCOLATE TO HEAR A SECRET</p>
        </div>

        <div class="box-container" id="chocBox">
            <div class="choc dark" onclick="eat(this, 'Dark: For your braveness and incredible strength.')">üç´</div>
            <div class="choc white" onclick="eat(this, 'White: For the pure way you love me.')">üßÅ</div>
            <div class="choc milk" onclick="eat(this, 'Caramel: For how sweet you make every moment.')">üçÆ</div>
            <div class="choc dark" onclick="eat(this, 'Hazelnut: For being my favorite kind of crazy.')">ü•ú</div>
            <div class="choc milk" onclick="eat(this, 'Coffee: For being the energy in my life.')">‚òï</div>
            <div class="choc white" onclick="eat(this, 'Cream: For the softness you poured in my soul.')">üç¶</div>
        </div>

        <p id="msg-display">Waiting for you to pick...</p>

        <div id="final-ui">
            <h1 style="font-size: 4rem;">Happy Chocolate Day!</h1>
            <p>You're the only treat I'll ever need. ‚ù§Ô∏è</p>
            <button class="btn-gold" onclick="finalBoom()">I LOVE YOU</button>
        </div>
    </div>

    <script>
        let count = 0;
        const total = 6;

        function eat(el, msg) {
            if (!el.classList.contains('eaten')) {
                // Play sounds
                document.getElementById('biteSound').currentTime = 0;
                document.getElementById('biteSound').play();
                document.getElementById('bgMusic').play().catch(() => { });

                el.classList.add('eaten');
                count++;

                // Visual Feedback
                const display = document.getElementById('msg-display');
                display.style.opacity = '0';
                display.style.transform = 'translateY(10px)';

                setTimeout(() => {
                    display.innerText = msg;
                    display.style.opacity = '1';
                    display.style.transform = 'translateY(0)';
                }, 400);

                confetti({
                    particleCount: 25,
                    spread: 40,
                    colors: ['#3d251e', '#d4af37'],
                    origin: { x: el.getBoundingClientRect().left / window.innerWidth, y: el.getBoundingClientRect().top / window.innerHeight }
                });

                if (count === total) transitionOut();
            }
        }

        function transitionOut() {
            setTimeout(() => {
                document.getElementById('chocBox').style.opacity = '0';
                document.getElementById('chocBox').style.transform = 'scale(0.8)';
                document.getElementById('header').style.opacity = '0';
                document.getElementById('msg-display').style.opacity = '0';

                setTimeout(() => {
                    document.getElementById('chocBox').style.display = 'none';
                    document.getElementById('header').style.display = 'none';
                    document.getElementById('msg-display').style.display = 'none';

                    const final = document.getElementById('final-ui');
                    final.classList.add('show-final');

                    confetti({
                        particleCount: 150,
                        spread: 100,
                        origin: { y: 0.6 },
                        colors: ['#d4af37', '#ffffff']
                    });
                }, 1000);
            }, 1500);
        }

        function finalBoom() {
            confetti({
                particleCount: 400,
                spread: 160,
                colors: ['#d4af37', '#ffffff', '#3d251e']
            });
            document.querySelector('#final-ui h1').innerText = "Stay Sweet Forever! ‚ù§Ô∏è";
        }
    </script>
</body>

</html>